//>>built
define("dstore/SimpleQuery",["dojo/_base/declare","dojo/_base/array"],function(l,k){var n={eq:function(a,b){return a===b},"in":function(a,b){return-1<k.indexOf(b,a)},ne:function(a,b){return a!==b},lt:function(a,b){return a<b},lte:function(a,b){return a<=b},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},match:function(a,b,m){return b.test(a,m)}};return l(null,{_createFilterQuerier:function(a){function b(a){var c=a.type;a=a.args;var e=f._getFilterComparator(c);if(e){var k=a[0],l=a[1];return function(a){return e(m&&
a.get?a.get(k):a[k],l,a)}}switch(c){case "and":case "or":for(var h=0,n=a.length;h<n;h++){var p=b(a[h]);d=d?function(a,b){return"and"===c?function(c){return a(c)&&b(c)}:function(c){return a(c)||b(c)}}(d,p):p}return d;case "function":return a[0];case "string":h=f[a[0]];if(!h)throw Error("No filter function "+a[0]+" was found in the collection");return h;case void 0:return function(){return!0};default:throw Error('Unknown filter operation "'+c+'"');}}var m=this.queryAccessors,f=this,d=b(a);return function(a){return k.filter(a,
d)}},_getFilterComparator:function(a){return n[a]||this.inherited(arguments)},_createSortQuerier:function(a){return function(b){b=b.slice();b.sort("function"==typeof a?a:function(b,f){for(var d=0;d<a.length;d++){var g;if("function"==typeof a[d])g=a[d](b,f);else{var c=a[d].property;g=a[d].descending;var e=b.get?b.get(c):b[c],c=f.get?f.get(c):f[c];null!=e&&(e=e.valueOf());null!=c&&(c=c.valueOf());g=e===c?0:!!g===(null===e||e>c&&null!==c)?-1:1}if(0!==g)return g}return 0});return b}}})});
//# sourceMappingURL=SimpleQuery.js.map