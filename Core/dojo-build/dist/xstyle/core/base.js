//>>built
define("xstyle/core/base",["xstyle/core/elemental","xstyle/core/expression","xstyle/core/utils","put-selector/put","xstyle/core/Rule"],function(p,q,h,l,f){function m(a,c){return{forElement:function(b){for(var d=b;!(a in b);)if(b=b.parentNode,!b)throw Error(a+" not found");b["_"+a+"Node"]=d;return{element:b,receive:function(c,d){c(b[a]||d[a])},appendTo:c}},put:function(b,c){c[a]=b}}}var r={"":0,"false":0,"true":1},s={display:["none",""],visibility:["hidden","visible"],"float":["none","left"]},k=l("div"),
g=navigator.userAgent,n=-1<g.indexOf("WebKit")?"-webkit-":-1<g.indexOf("Firefox")?"-moz-":-1<g.indexOf("MSIE")?"-ms-":-1<g.indexOf("Opera")?"-o-":"";f=new f;f.root=!0;f.definitions={Math:Math,module:function(a){return{then:function(c){require([a],c)}}},item:m("item"),content:m("content",function(a){a.appendChild(this.element)}),element:{forElement:function(a){return{element:a,receive:function(c){c(a)},get:function(c){return this.element[c]}}}},event:{receive:function(a){a(currentEvent)}},each:{put:function(a,
c,b){c.each=a}},prefix:{put:function(a,c,b){if("string"==typeof k.style[n+b])return c.setStyle(n+b,a),!0}},"var":{put:function(a,c,b){(c.variables||(c.variables={}))[b]=a;c=(c=c.variableListeners)&&c[b]||0;for(b=0;b<c.length;b++)c[b](a)},call:function(a,c,b,d){this.receive(function(a){a=d.toString().replace(/var\([^)]+\)/g,a);var f=r[a];if(-1<f){var g=s[b];g&&(a=g[f])}c.setStyle(b,a)},c,a.args[0])},receive:function(a,c,b){var d=c;do{var e=d.variables&&d.variables[b]||d.definitions&&d.definitions[b];
if(e){if(e.receive)return e.receive(a,c,b);c=d.variableListeners||(d.variableListeners={});(c[b]||(c[b]=[])).push(a);return a(e)}d=d.parent}while(d);a()}},"extends":{call:function(a,c){for(var b=a.args;0<b.length;)return h.extend(c,b[0],console.error)}},on:{put:function(a,c,b){p.on(document,b.slice(3),c.selector,function(d){currentEvent=d;var e=q(c,b,a);e.forElement&&(e=e.forElement(d.target));e&&e.stop&&e.stop();currentEvent=null})}},"@supports":{selector:function(a){function c(b){var a;if(a=b.match(/^\s*not(.*)/))return!c(a[1]);
if(a=b.match(/\((.*)\)/))return c(a[1]);if(a=b.match(/([^:]*):(.*)/))return b=h.convertCssNameToJs(a[1]),a=k.style[b]=a[2],k.style[b]==a;if(a=b.match(/\w+\[(.*)=(.*)\]/))return l(a[0])[a[1]]==a[2];if(a=b.match(/\w+/))return h.isTagSupported(a);throw Error("can't parse @supports string");}c(a.selector.slice(10))?a.selector="":a.disabled=!0}}};return f});
//@ sourceMappingURL=base.js.map