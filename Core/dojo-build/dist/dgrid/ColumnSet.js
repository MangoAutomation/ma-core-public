//>>built
define("dgrid/ColumnSet","dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect dojo/query dojo/has ./util/misc put-selector/put xstyle/has-class ./Grid dojo/_base/sniff xstyle/css!./css/columnset.css".split(" "),function(t,u,q,v,n,r,p,g,w,m,x,z){function y(a,b){function c(){p(".dgrid-column-set",b).forEach(function(a){a.scrollLeft=d[a.getAttribute(l)]})}var d=a._columnSetScrollLefts;8>g("ie")||g("quirks")?setTimeout(c,1):c()}g.add("event-mousewheel",function(a,
b,c){return"undefined"!==typeof c.onmousewheel});g.add("event-wheel",function(a,b,c){a=!1;try{WheelEvent("wheel"),a=!0}catch(d){}finally{return a}});var l="data-dgrid-column-set-id";x("safari","ie-7");var s;g("touch")||(s=g("event-mousewheel")||g("event-wheel")?function(a){return function(b,c){return n(b,g("event-wheel")?"wheel":"mousewheel",function(d){var e=d.target;1!==e.nodeType&&(e=e.parentNode);for(;!p.matches(e,".dgrid-column-set["+l+"]",b);)if(e===b||!(e=e.parentNode))return;(d=d.deltaX||
-d.wheelDeltaX/3)&&c.call(null,a,e,d)})}}:function(a){return function(b,c){return n(b,".dgrid-column-set["+l+"]:MozMousePixelScroll",function(b){1===b.axis&&c.call(null,a,this,b.detail)})}});return u(null,{postCreate:function(){this.inherited(arguments);if(!g("touch"))this.on(s(this),function(a,b,c){b=b.getAttribute(l);a=a._columnSetScrollers[b];c=a.scrollLeft+c;a.scrollLeft=0>c?0:c})},columnSets:[],createRowCells:function(a,b){for(var c=m("table.dgrid-row-table"),d=m(c,"tbody tr"),e=0,f=this.columnSets.length;e<
f;e++)m(d,a+".dgrid-column-set-cell.dgrid-column-set-"+e+" div.dgrid-column-set["+l+"\x3d"+e+"]").appendChild(this.inherited(arguments,[a,b,this.columnSets[e]]));return c},renderArray:function(){var a=this,b=this.inherited(arguments);v.when(b,function(b){for(var d=0;d<b.length;d++)y(a,b[d])});return b},renderHeader:function(){function a(){e._positionScrollers()}this.inherited(arguments);var b=this.columnSets,c=this.domNode,d=this._columnSetScrollers;this._columnSetScrollerContents={};this._columnSetScrollLefts=
{};var e=this,f;if(d)for(f in d)m(d[f],"!");else r.after(this,"resize",a,!0),r.after(this,"styleColumn",a,!0),n(c,".dgrid-column-set:dgrid-cellfocusin",q.hitch(this,"_onColumnSetScroll"));d=this._columnSetScrollers={};f=0;for(c=b.length;f<c;f++)this._putScroller(b[f],f);this._positionScrollers()},styleColumnSet:function(a,b){var c=this.addCssRule("#"+w.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-set-"+a,b);this._positionScrollers();return c},_destroyColumns:function(){var a=this.columnSets.length,
b,c,d,e,f,g,h,k;for(b=0;b<a;b++){g=this.columnSets[b];c=0;for(e=g.length;c<e;c++){h=g[c];d=0;for(f=h.length;d<f;d++)k=h[d],"function"===typeof k.destroy&&k.destroy()}}this.inherited(arguments)},configStructure:function(){this.columns={};for(var a=0,b=this.columnSets.length;a<b;a++)for(var c=this.columnSets[a],d=0;d<c.length;d++)c[d]=this._configColumns(a+"-"+d+"-",c[d])},_positionScrollers:function(){var a=this.domNode,b=this._columnSetScrollers,c=this._columnSetScrollerContents,d=this.columnSets,
e=0,f=0,m=0,h,k;h=0;for(d=d.length;h<d;h++)e+=f,k=p(".dgrid-column-set["+l+'\x3d"'+h+'"]',a)[0],f=k.offsetWidth,k=k.firstChild.offsetWidth,c[h].style.width=k+"px",b[h].style.width=f+"px",b[h].style.bottom=this.showFooter?this.footerNode.offsetHeight+"px":"0px",b[h].style.overflowX=k>f?"scroll":"auto",b[h].style.left=e+"px",k>f&&m++;this.bodyNode.style.bottom=m?g("dom-scrollbar-height")+(g("ie")?1:0)+"px":"0"},_putScroller:function(a,b){var c=this._columnSetScrollers[b]=m(this.domNode,"div.dgrid-column-set-scroller.dgrid-column-set-scroller-"+
b+"["+l+"\x3d"+b+"]");this._columnSetScrollerContents[b]=m(c,"div.dgrid-column-set-scroller-content");n(c,"scroll",q.hitch(this,"_onColumnSetScroll"))},_onColumnSetScroll:function(a){var b=a.target.scrollLeft;a=a.target.getAttribute(l);var c;this._columnSetScrollLefts[a]!=b&&(p(".dgrid-column-set["+l+'\x3d"'+a+'"],.dgrid-column-set-scroller['+l+'\x3d"'+a+'"]',this.domNode).forEach(function(a,e){a.scrollLeft=b;e||(c=a.scrollLeft)}),this._columnSetScrollLefts[a]=c)},_setColumnSets:function(a){this._destroyColumns();
this.columnSets=a;this._updateColumns()},setColumnSets:function(a){t.deprecated("setColumnSets(...)",'use set("columnSets", ...) instead',"dgrid 0.4");this.set("columnSets",a)}})});
//@ sourceMappingURL=ColumnSet.js.map